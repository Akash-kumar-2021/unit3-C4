<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>News App</title>
  </head>
  <body>
    <div id="navbar">
    
    </div>
    <!-- Give Navbar with id "navbar"  -->
    <!-- Navbar will have input with id search_input and a link to home page i.e. index.html -->
    <!-- Sidebar will have id "sidebar"  -->
    <!-- Give link to top headlines of countries in sidebar with id as their country codes 
    india :- in
    china :- ch
    usa :- us
    uk : uk
    Newzeland :- nz -->

    <!-- Append results inside div with id "results"  -->
    <div id="results">


    </div>
    <!-- News divs will have class "news"  -->
    <div class="news">

    </div>
  </body>
</html>

<script type="module">
    import navbar from "../components/navbar.js";

    import { apiCall, appendNews} from "./scripts/index.js";


    let navbar_div = document.getElementById("navbar");
    navbar_div.innerHTML = navbar();


    let news = await apiCall("https://masai-mock-api.herokuapp.com/news/top-headlines?country=${sidebar}");

    // console.log(news);

    let parent = document.getElementById("results");

    appendNews(news,parent);


    let input = document.getElementById("search_input ");
    input.addEventListener("keypress", (e) => {

      if(e.key === "Enter"){

        let input_value = document.getElementById('search_input').value;
        localStorage.setItem("news",input_value);

        window.location.href = "search.html"
      }
    });
</script>